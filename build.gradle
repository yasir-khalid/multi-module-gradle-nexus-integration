/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our Samples at https://docs.gradle.org/8.10.2/samples
 */

plugins {
    id 'scala'
    id 'java'
    id 'java-library'
    id 'application'
    id "com.dorongold.task-tree" version "2.1.1"
    id 'com.github.johnrengelman.shadow' version '8.1.1'
}

allprojects {
    group 'com.sportscanner'
    version '1.2.0'

    ext {
        shadowJarSuffix = "shadow"
    }

    apply plugin: 'java-library'
    apply plugin: 'scala'
    apply plugin: 'application'
    apply plugin: 'com.dorongold.task-tree'
//    apply plugin: "com.diffplug.spotless"
    apply plugin: 'com.github.johnrengelman.shadow'

    repositories {
        mavenCentral()
    }

    dependencies {
        implementation 'org.scala-lang:scala-library:2.13.12'
    }

    task('hello').doLast {
        println "Gradle task launch for: $project.name"
    }

    shadowJar {
        // Dynamically setting the archive file name
        archiveFileName = "${project.name}-${project.version}-${shadowJarSuffix}.jar"
        doFirst {
            println "Creating shadow JAR: ${archiveFileName.get()}"
        }
    }

    jar.enabled = true
}